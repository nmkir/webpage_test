<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PAPRICAN!ğŸŒ¶ï¸</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://d3js.org/d3-geo-projection.v4.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/topojson@3.0.2/dist/topojson.min.js"></script>
    <script src="https://d3js.org/d3-scale-chromatic.v2.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f0f0;
            color: #333333;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
        }

        .map-container {
            background-color: #ffffff;
            border-radius: 1rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            padding: 1.5rem;
            width: 100%;
            max-width: 1200px;
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
            align-items: center;
        }

        #map-svg {
            background-color: #ffffff;
            border-radius: 0.75rem;
        }

        .tooltip {
            position: absolute;
            text-align: center;
            padding: 8px;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            border-radius: 5px;
            pointer-events: none;
            font-size: 14px;
            opacity: 0;
            transition: opacity 0.3s;
            max-width: 200px;
            line-height: 1.4;
        }

        .country {
            stroke: #4a5568;
            stroke-width: 1px;
            transition: fill 0.2s, stroke 0.2s;
            cursor: pointer;
        }

        .country:hover {
            fill: #a0aec0;
            stroke: #cbd5e0;
        }

        .title {
            font-size: 2rem;
            font-weight: 700;
            color: #1a202c;
        }

        #details-container {
            width: 100%;
            min-height: 150px;
            background-color: #f0f0f0;
            border-radius: 0.75rem;
            padding: 1rem;
            display: flex;
            flex-direction: column;
            justify-content: center;
            text-align: left;
            font-style: italic;
            color: #a0aec0;
            transition: background-color 0.3s;
        }

        .details-content {
            font-size: 1rem;
            line-height: 1.6;
            color: #333333;
            font-style: normal;
            text-align: left;
        }

        .details-title {
            font-weight: bold;
            font-size: 1.25rem;
            margin-bottom: 0.5rem;
        }

        .main-content {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
            width: 100%;
            align-items: center;
        }

        @media (min-width: 768px) {
            .main-content {
                flex-direction: row;
                align-items: flex-start;
            }
            .map-section, .details-section {
                flex-grow: 1;
                flex-basis: 0;
            }
            .details-section {
                padding-left: 1.5rem;
            }
        }
    </style>
</head>
<body class="bg-gray-900 text-white">

    <div class="map-container">
        <h1 class="title text-center mb-0">TTC AFRICA INFOBASEğŸŒ¶ï¸</h1>
        <p class="text-xs text-gray-500 -mt-2">Prototype by Gemini (with 5-minute-Vibe-Coding :)</p>
        <div class="main-content">
            <div class="map-section">
                <svg id="map-svg" width="100%" height="100%" viewBox="0 0 800 600"></svg>
            </div>
            <div class="details-section">
                <div id="details-container">
                    å›½ã«ãƒã‚¦ã‚¹ã‚’é‡ã­ã‚‹ã¨è©³ç´°ãŒè¡¨ç¤ºã•ã‚Œã¾ã™
                </div>
            </div>
        </div>
    </div>

    <div id="tooltip" class="tooltip"></div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const svg = d3.select("#map-svg");
            const width = 800;
            const height = 600;
            const detailsContainer = document.getElementById('details-container');
            const tooltip = d3.select("#tooltip");

            const projection = d3.geoMercator()
                .center([20, 0])
                .scale(600)
                .translate([width / 2, height / 2]);

            const path = d3.geoPath().projection(projection);

            // å›½ã®è©³ç´°æƒ…å ±ï¼ˆæ¶ç©ºã®ãƒ‡ãƒ¼ã‚¿ï¼‰
            const countryDetails = {
                "Algeria": { capital: "ã‚¢ãƒ«ã‚¸ã‚§", population: "ç´„4,400ä¸‡äºº", companies: "Sonatrach", hasToyotaTsusho: "ã‚ã‚Š", famousPerson: "ã‚¸ãƒãƒ‡ã‚£ãƒ¼ãƒŒãƒ»ã‚¸ãƒ€ãƒ³ (ã‚µãƒƒã‚«ãƒ¼é¸æ‰‹)", famousFood: "ã‚¯ã‚¹ã‚¯ã‚¹", resident: "ä½è—¤ å¤ªéƒ" },
                "Angola": { capital: "ãƒ«ã‚¢ãƒ³ãƒ€", population: "ç´„3,400ä¸‡äºº", companies: "Sonangol", hasToyotaTsusho: "ã‚ã‚Š", famousPerson: "ã‚¸ãƒ§ã‚¼ãƒ»ã‚¨ãƒ‰ã‚¥ã‚¢ãƒ«ãƒ‰ãƒ»ãƒ‰ã‚¹ãƒ»ã‚µãƒ³ãƒˆã‚¹ (æ”¿æ²»å®¶)", famousFood: "ãƒ ã‚¢ãƒ³ãƒ", resident: "éˆ´æœ¨ æ¬¡éƒ" },
                "Benin": { capital: "ãƒãƒ«ãƒˆãƒãƒœ", population: "ç´„1,300ä¸‡äºº", companies: "Benin-Togo Electric Community", hasToyotaTsusho: "ã‚ã‚Š", famousPerson: "ã‚¢ãƒ³ã‚¸ã‚§ãƒªãƒ¼ã‚¯ãƒ»ã‚­ã‚¸ãƒ§ãƒ¼ (æ­Œæ‰‹)", famousFood: "ã‚¢ã‚«ãƒª", resident: "é«˜æ©‹ å¥å¤ª" },
                "Botswana": { capital: "ãƒãƒœãƒ­ãƒ¼ãƒ", population: "ç´„260ä¸‡äºº", companies: "Debswana", hasToyotaTsusho: "ãªã—", famousPerson: "ãƒ—ã‚·ã‚§ãƒ„ã‚§ãƒ»ãƒ›ãƒªãƒ„ã‚¡ (ä½œå®¶)", famousFood: "ã‚»ã‚»ãƒ¯", resident: "ç”°ä¸­ é™½å­" },
                "Burkina Faso": { capital: "ãƒ¯ã‚¬ãƒ‰ã‚¥ã‚°ãƒ¼", population: "ç´„2,100ä¸‡äºº", companies: "Sodefitex", hasToyotaTsusho: "ãªã—", famousPerson: "ã‚¢ãƒªã‚¹ãƒ»ãƒ‰ãƒ¯ãƒ»ã‚¨ãƒ‰ãƒŠãƒ¼ãƒ« (å¥³å„ª)", famousFood: "ãƒªã‚ºãƒ»ã‚°ãƒ©", resident: "ä¼Šè—¤ æ…" },
                "Burundi": { capital: "ã‚®ãƒ†ã‚¬", population: "ç´„1,200ä¸‡äºº", companies: "Brarudi", hasToyotaTsusho: "ãªã—", famousPerson: "ã‚®ãƒ‡ã‚£ã‚ªãƒ³ãƒ»ãƒ ãƒ–ãƒ«ãƒª (ã‚¹ãƒãƒ¼ãƒ„é¸æ‰‹)", famousFood: "ãƒãƒ†ãƒ™", resident: "æ¸¡è¾º æµ" },
                "Cameroon": { capital: "ãƒ¤ã‚¦ãƒ³ãƒ‡", population: "ç´„2,600ä¸‡äºº", companies: "SNH", hasToyotaTsusho: "ãªã—", famousPerson: "ã‚µãƒŸãƒ¥ã‚¨ãƒ«ãƒ»ã‚¨ãƒˆã‚ª (ã‚µãƒƒã‚«ãƒ¼é¸æ‰‹)", famousFood: "ãƒ³ãƒ€ãƒ©", resident: "å±±æœ¬ ç¿¼" },
                "Cabo Verde": { capital: "ãƒ—ãƒ©ã‚¤ã‚¢", population: "ç´„55ä¸‡äºº", companies: "Cabo Verde Airlines", hasToyotaTsusho: "ãªã—", famousPerson: "ã‚»ã‚¶ãƒªã‚¢ãƒ»ã‚¨ãƒ´ã‚©ãƒ© (æ­Œæ‰‹)", famousFood: "ã‚«ãƒãƒ¥ãƒ‘", resident: "ä¸­æ‘ æ·³" },
                "Central African Republic": { capital: "ãƒãƒ³ã‚®", population: "ç´„500ä¸‡äºº", companies: "Socitel", hasToyotaTsusho: "ãªã—", famousPerson: "ãƒãƒ«ãƒ†ãƒ«ãƒŸãƒ¼ãƒ»ãƒœã‚¬ãƒ³ãƒ€ (æ”¿æ²»å®¶)", famousFood: "ãƒãƒ³ã‚¸ãƒ§ã‚¯", resident: "å°æ— èª " },
                "Chad": { capital: "ãƒ³ã‚¸ãƒ£ãƒ¡ãƒŠ", population: "ç´„1,700ä¸‡äºº", companies: "SHT", hasToyotaTsusho: "ãªã—", famousPerson: "ãƒ¦ãƒªã‚¢ãƒ¼ãƒãƒ»ã‚­ã‚¶ãƒ  (ã‚¸ãƒ£ãƒ¼ãƒŠãƒªã‚¹ãƒˆ)", famousFood: "ãƒ€ãƒ«ãƒ", resident: "åŠ è—¤ æµ©" },
                "Comoros": { capital: "ãƒ¢ãƒ­ãƒ‹", population: "ç´„85ä¸‡äºº", companies: "Comores Telecom", hasToyotaTsusho: "ãªã—", famousPerson: "ã‚¢ãƒªãƒ»ã‚½ã‚¤ãƒª (æ”¿æ²»å®¶)", famousFood: "ãƒ©ã‚ª", resident: "å‰ç”° è¡" },
                "Congo, Dem. Rep.": { capital: "ã‚­ãƒ³ã‚·ãƒ£ã‚µ", population: "ç´„9,500ä¸‡äºº", companies: "Gecamines", hasToyotaTsusho: "ã‚ã‚Š", famousPerson: "ãƒ‡ã‚£ãƒ‡ã‚£ã‚¨ãƒ»ãƒ ãƒ™ãƒ³ã‚¬ (ãƒã‚¹ã‚±ãƒƒãƒˆãƒœãƒ¼ãƒ«é¸æ‰‹)", famousFood: "ãƒ¢ã‚¢ãƒ³ãƒ™ãƒã‚­ãƒ³", resident: "å±±ç”° æ˜‡" },
                "Congo": { capital: "ãƒ–ãƒ©ã‚¶ãƒ´ã‚£ãƒ«", population: "ç´„560ä¸‡äºº", companies: "SNPC", hasToyotaTsusho: "ãªã—", famousPerson: "ãƒ•ãƒ¬ãƒ‡ãƒªãƒƒã‚¯ãƒ»ãƒã‚µ (æ”¿æ²»å®¶)", famousFood: "ãƒ–ãƒ–ãƒãƒ¼", resident: "ä½ã€…æœ¨ å¸" },
                "Cote d'Ivoire": { capital: "ãƒ¤ãƒ ã‚¹ã‚¯ãƒ­", population: "ç´„2,800ä¸‡äºº", companies: "CIE", hasToyotaTsusho: "ã‚ã‚Š", famousPerson: "ãƒ‡ã‚£ãƒ‡ã‚£ã‚¨ãƒ»ãƒ‰ãƒ­ã‚°ãƒ (ã‚µãƒƒã‚«ãƒ¼é¸æ‰‹)", famousFood: "ã‚¢ãƒã‚§ã‚±", resident: "äº•ä¸Š é™½ä»‹" },
                "Djibouti": { capital: "ã‚¸ãƒ–ãƒå¸‚", population: "ç´„110ä¸‡äºº", companies: "Djibouti Telecom", hasToyotaTsusho: "ãªã—", famousPerson: "ãƒã‚µãƒ³ãƒ»ã‚°ãƒ¼ãƒ¬ãƒ‰ãƒ»ã‚¢ãƒ—ãƒ†ã‚£ãƒ‰ãƒ³ (æ”¿æ²»å®¶)", famousFood: "ã‚¹ã‚­ãƒˆãƒ", resident: "æœ¨æ‘ å®" },
                "Egypt": { capital: "ã‚«ã‚¤ãƒ­", population: "ç´„1å„„900ä¸‡äºº", companies: "Orascom, Elsewedy Electric", hasToyotaTsusho: "ã‚ã‚Š", famousPerson: "ãƒ¢ãƒãƒ¡ãƒ‰ãƒ»ã‚µãƒ©ãƒ¼ (ã‚µãƒƒã‚«ãƒ¼é¸æ‰‹)", famousFood: "ã‚³ã‚·ãƒ£ãƒª", resident: "æ— æ™ºå­" },
                "Equatorial Guinea": { capital: "ãƒãƒ©ãƒœ", population: "ç´„150ä¸‡äºº", companies: "GE Petrol", hasToyotaTsusho: "ãªã—", famousPerson: "ãƒ†ã‚ªãƒ‰ãƒ­ãƒ»ã‚ªãƒ“ã‚¢ãƒ³ãƒ»ãƒ³ã‚²ãƒãƒ»ãƒ ãƒã‚½ã‚´ (æ”¿æ²»å®¶)", famousFood: "ã‚¢ãƒœãƒœ", resident: "æ–è—¤ æ‹“ä¹Ÿ" },
                "Eritrea": { capital: "ã‚¢ã‚¹ãƒãƒ©", population: "ç´„360ä¸‡äºº", companies: "Nara", hasToyotaTsusho: "ãªã—", famousPerson: "ãƒ•ã‚¡ãƒ†ãƒãƒ»ã‚¤ãƒ–ãƒ©ãƒ’ãƒ  (æ´»å‹•å®¶)", famousFood: "ã‚¼ã‚°ãƒ‹", resident: "æ¸…æ°´ é›…äºº" },
                "Eswatini": { capital: "ãƒ ãƒãƒãƒ¼ãƒ", population: "ç´„120ä¸‡äºº", companies: "Eswatini Sugar Association", hasToyotaTsusho: "ãªã—", famousPerson: "ãƒ ã‚¹ãƒ¯ãƒ†ã‚£3ä¸– (å›½ç‹)", famousFood: "ã‚¤ãƒ³ã‚·ãƒ¯", resident: "æ£®ç”° é›„å¤§" },
                "Ethiopia": { capital: "ã‚¢ãƒ‡ã‚£ã‚¹ã‚¢ãƒ™ãƒ", population: "ç´„1å„„2,000ä¸‡äºº", companies: "Ethiopian Airlines", hasToyotaTsusho: "ã‚ã‚Š", famousPerson: "ãƒã‚¤ãƒ¬ãƒ»ã‚²ãƒ–ãƒ¬ã‚»ãƒ©ã‚·ã‚¨ (ãƒãƒ©ã‚½ãƒ³é¸æ‰‹)", famousFood: "ã‚¤ãƒ³ã‚¸ã‚§ãƒ©", resident: "å±±å£ è£•å­" },
                "Gabon": { capital: "ãƒªãƒ¼ãƒ–ãƒ«ãƒ´ã‚£ãƒ«", population: "ç´„240ä¸‡äºº", companies: "Gabon Telecom", hasToyotaTsusho: "ãªã—", famousPerson: "ãƒ”ã‚¨ãƒ¼ãƒ«ãƒ»ã‚¨ãƒ¡ãƒªã‚¯ãƒ»ã‚ªãƒ¼ãƒãƒ¡ãƒ¤ãƒ³ (ã‚µãƒƒã‚«ãƒ¼é¸æ‰‹)", famousFood: "ã‚¬ãƒœãƒ³é¢¨ãƒã‚­ãƒ³", resident: "æ¾æœ¬ éš†" },
                "Gambia": { capital: "ãƒãƒ³ã‚¸ãƒ¥ãƒ¼ãƒ«", population: "ç´„250ä¸‡äºº", companies: "GAMTEL", hasToyotaTsusho: "ãªã—", famousPerson: "ã‚¢ãƒãƒãƒ‰ãƒ»ãƒ‰ã‚¥ãƒ³ãƒ“ã‚¢ (ä¿³å„ª)", famousFood: "ãƒ™ãƒŠãƒãƒ³", resident: "æ± ç”° ä»" },
                "Ghana": { capital: "ã‚¢ã‚¯ãƒ©", population: "ç´„3,300ä¸‡äºº", companies: "Ghana Cocoa Board", hasToyotaTsusho: "ã‚ã‚Š", famousPerson: "ã‚³ãƒ•ã‚£ãƒ¼ãƒ»ã‚¢ãƒŠãƒ³ (å…ƒå›½é€£äº‹å‹™ç·é•·)", famousFood: "ãƒ•ãƒ•", resident: "æ©‹æœ¬ æµ©" },
                "Guinea": { capital: "ã‚³ãƒŠã‚¯ãƒª", population: "ç´„1,400ä¸‡äºº", companies: "CBG", hasToyotaTsusho: "ãªã—", famousPerson: "ãƒãƒ³ãƒ‰ã‚¥ãƒ»ã‚±ãƒªãƒ¼ (æ­Œæ‰‹)", famousFood: "ã‚¿ãƒ³ãƒ‰ãƒª", resident: "è—¤ç”° æ•¬" },
                "Guinea-Bissau": { capital: "ãƒ“ã‚µã‚¦", population: "ç´„200ä¸‡äºº", companies: "GuinÃ©-Telecom", hasToyotaTsusho: "ãªã—", famousPerson: "ã‚¢ãƒãƒ‰ã‚¥ãƒ»ãƒ‡ã‚£ã‚¢ãƒ­ (ãƒã‚¹ã‚±ãƒƒãƒˆãƒœãƒ¼ãƒ«é¸æ‰‹)", famousFood: "ã‚¸ãƒ§ãƒ­ãƒ•ç±³", resident: "ç¦ç”° ç¾æ¨¹" },
                "Kenya": { capital: "ãƒŠã‚¤ãƒ­ãƒ“", population: "ç´„5,500ä¸‡äºº", companies: "Safaricom", hasToyotaTsusho: "ã‚ã‚Š", famousPerson: "ã‚¨ãƒªã‚¦ãƒ‰ãƒ»ã‚­ãƒ—ãƒãƒ§ã‚² (ãƒãƒ©ã‚½ãƒ³é¸æ‰‹)", famousFood: "ã‚¦ã‚¬ãƒª", resident: "ä¸Šç”° è¡" },
                "Lesotho": { capital: "ãƒã‚»ãƒ«", population: "ç´„230ä¸‡äºº", companies: "LetÅ¡eng Diamonds", hasToyotaTsusho: "ãªã—", famousPerson: "ãƒ¢ãƒ¼ã‚·ãƒ¥ã‚¨ã‚·ãƒ¥ã‚¨1ä¸– (å›½ç‹)", famousFood: "ãƒªãƒ›ãƒœ", resident: "å¤§é‡ æ™º" },
                "Liberia": { capital: "ãƒ¢ãƒ³ãƒ­ãƒ“ã‚¢", population: "ç´„500ä¸‡äºº", companies: "Firestone Natural Rubber", hasToyotaTsusho: "ãªã—", famousPerson: "ã‚¸ãƒ§ãƒ¼ã‚¸ãƒ»ã‚¦ã‚§ã‚¢ (ã‚µãƒƒã‚«ãƒ¼é¸æ‰‹ã€æ”¿æ²»å®¶)", famousFood: "ã‚­ãƒ£ãƒƒã‚µãƒã®è‘‰", resident: "å°å· å¥äºŒ" },
                "Libya": { capital: "ãƒˆãƒªãƒãƒª", population: "ç´„690ä¸‡äºº", companies: "National Oil Corporation", hasToyotaTsusho: "ãªã—", famousPerson: "ã‚ªãƒãƒ«ãƒ»ãƒ ãƒ•ã‚¿ãƒ¼ãƒ« (ç‹¬ç«‹é‹å‹•å®¶)", famousFood: "ãƒã‚¸ãƒ³", resident: "çŸ³ç”° äº®" },
                "Madagascar": { capital: "ã‚¢ãƒ³ã‚¿ãƒŠãƒŠãƒªãƒœ", population: "ç´„2,900ä¸‡äºº", companies: "Jirama", hasToyotaTsusho: "ãªã—", famousPerson: "ã‚¾ãƒœãƒ»ãƒ©ã‚¶ãƒ•ã‚£ãƒ³ãƒ‰ãƒ©ã‚¶ãƒŠ (æ­Œæ‰‹)", famousFood: "ãƒ©ãƒ´ã‚£ãƒˆãƒˆ", resident: "åŸç”° éš†" },
                "Malawi": { capital: "ãƒªãƒ­ãƒ³ã‚°ã‚¦ã‚§", population: "ç´„2,000ä¸‡äºº", companies: "Airtel Malawi", hasToyotaTsusho: "ãªã—", famousPerson: "ãƒãƒ¼ãƒ«ãƒ»ã‚«ã‚¬ãƒ¡ (æ”¿æ²»å®¶)", famousFood: "ãƒ³ã‚·ãƒ", resident: "ä¸­å³¶ ç›´æ¨¹" },
                "Mali": { capital: "ãƒãƒã‚³", population: "ç´„2,200ä¸‡äºº", companies: "Orange Mali", hasToyotaTsusho: "ãªã—", famousPerson: "ã‚µãƒªãƒ•ãƒ»ã‚±ã‚¤ã‚¿ (æ­Œæ‰‹)", famousFood: "ãƒãƒ•ã‚§", resident: "å¾Œè—¤ æ‚Ÿ" },
                "Mauritania": { capital: "ãƒŒã‚¢ã‚¯ã‚·ãƒ§ãƒƒãƒˆ", population: "ç´„470ä¸‡äºº", companies: "SNIM", hasToyotaTsusho: "ãªã—", famousPerson: "ãƒ¢ãƒãƒ¡ãƒ‰ãƒ»ã‚¦ãƒ«ãƒ»ã‚¢ãƒ–ãƒ‡ãƒ«ãƒ»ã‚¢ã‚¸ã‚º (æ”¿æ²»å®¶)", famousFood: "ãƒ¡ã‚¤ãƒ•ã‚§", resident: "å®®æœ¬ éš¼äºº" },
                "Morocco": { capital: "ãƒ©ãƒãƒˆ", population: "ç´„3,700ä¸‡äºº", companies: "OCP Group", hasToyotaTsusho: "ã‚ã‚Š", famousPerson: "ãƒã‚­ãƒ¼ãƒ ãƒ»ã‚¸ã‚¤ã‚§ãƒ• (ã‚µãƒƒã‚«ãƒ¼é¸æ‰‹)", famousFood: "ã‚¿ã‚¸ãƒ³", resident: "è¥¿æ‘ èª " },
                "Mozambique": { capital: "ãƒãƒ—ãƒˆ", population: "ç´„3,200ä¸‡äºº", companies: "Vale", hasToyotaTsusho: "ã‚ã‚Š", famousPerson: "ã‚¨ã‚¦ã‚¼ãƒ“ã‚ª (ã‚µãƒƒã‚«ãƒ¼é¸æ‰‹)", famousFood: "ãƒã‚¿ã‚¿", resident: "æ‘ä¸Š ç§€æ¨¹" },
                "Namibia": { capital: "ã‚¦ã‚£ãƒ³ãƒˆãƒ•ãƒƒã‚¯", population: "ç´„250ä¸‡äºº", companies: "Namibian Ports Authority", hasToyotaTsusho: "ãªã—", famousPerson: "ãƒ•ãƒ©ãƒ³ã‚­ãƒ¼ãƒ»ãƒ•ãƒ¬ãƒ‡ãƒªã‚¯ã‚¹ (é™¸ä¸Šé¸æ‰‹)", famousFood: "ã‚ªã‚¹ãƒ¼ãƒãƒ©", resident: "å²¡ç”° æ•¦" },
                "Niger": { capital: "ãƒ‹ã‚¢ãƒ¡", population: "ç´„2,500ä¸‡äºº", companies: "SOMAIR", hasToyotaTsusho: "ãªã—", famousPerson: "ãƒãƒãƒ‰ã‚¥ãƒ»ã‚¿ãƒ³ã‚¸ãƒ£ (æ”¿æ²»å®¶)", famousFood: "ãƒã‚µ", resident: "é‡æ‘ å“²ä¹Ÿ" },
                "Nigeria": { capital: "ã‚¢ãƒ–ã‚¸ãƒ£", population: "ç´„2å„„1,800ä¸‡äºº", companies: "Dangote Group", hasToyotaTsusho: "ã‚ã‚Š", famousPerson: "ãƒãƒãƒãƒ³ãƒ€ãƒ»ãƒ³ã‚´ã‚ºã‚£ãƒ»ã‚¢ãƒ‡ã‚£ãƒ¼ãƒã‚§ (ä½œå®¶)", famousFood: "ã‚¸ãƒ§ãƒ­ãƒ•ç±³", resident: "æ¾ç”° æ‚ " },
                "Rwanda": { capital: "ã‚­ã‚¬ãƒª", population: "ç´„1,300ä¸‡äºº", companies: "RwandaAir", hasToyotaTsusho: "ãªã—", famousPerson: "ãƒãƒ¼ãƒ«ãƒ»ã‚«ã‚¬ãƒ¡ (æ”¿æ²»å®¶)", famousFood: "ã‚¤ã‚®ãƒˆãƒ¼ãƒªãƒ¼", resident: "ä¹…ä¿ç”° å¥" },
                "Sao Tome and Principe": { capital: "ã‚µãƒ³ãƒˆãƒ¡", population: "ç´„22ä¸‡äºº", companies: "ECOM", hasToyotaTsusho: "ãªã—", famousPerson: "ãƒãƒŒã‚¨ãƒ«ãƒ»ãƒ”ãƒ³ãƒˆãƒ»ãƒ€ãƒ»ã‚³ã‚¹ã‚¿ (æ”¿æ²»å®¶)", famousFood: "ãƒ•ã‚£ã‚¸ãƒ§ã‚¢", resident: "å²©ç”° éš†" },
                "Senegal": { capital: "ãƒ€ã‚«ãƒ¼ãƒ«", population: "ç´„1,700ä¸‡äºº", companies: "Sonatel", hasToyotaTsusho: "ã‚ã‚Š", famousPerson: "ã‚µãƒ‡ã‚£ã‚ªãƒ»ãƒãƒ (ã‚µãƒƒã‚«ãƒ¼é¸æ‰‹)", famousFood: "ãƒã‚§ãƒ–ã‚¸ã‚§ãƒ³", resident: "å°é‡ å­" },
                "Seychelles": { capital: "ãƒ´ã‚£ã‚¯ãƒˆãƒªã‚¢", population: "ç´„9ä¸‡9åƒäºº", companies: "Air Seychelles", hasToyotaTsusho: "ãªã—", famousPerson: "ã‚¸ã‚§ãƒ¼ãƒ ã‚¹ãƒ»ãƒŸãƒƒã‚·ã‚§ãƒ« (æ”¿æ²»å®¶)", famousFood: "ã‚«ãƒªãƒ¼ã‚³ã‚³", resident: "å‰ç”° è¡" },
                "Sierra Leone": { capital: "ãƒ•ãƒªãƒ¼ã‚¿ã‚¦ãƒ³", population: "ç´„860ä¸‡äºº", companies: "Sierra Rutile", hasToyotaTsusho: "ãªã—", famousPerson: "ã‚¤ãƒ–ãƒ©ãƒ’ãƒ ãƒ»ãƒãƒ»ã‚«ãƒãƒ© (æ­Œæ‰‹)", famousFood: "ã‚«ã‚µãƒ¯ãƒªãƒ¼ãƒ•", resident: "çŸ³äº• å®" },
                "Somalia": { capital: "ãƒ¢ã‚¬ãƒ‡ã‚£ã‚·ãƒ¥", population: "ç´„1,600ä¸‡äºº", companies: "Hormuud Telecom", hasToyotaTsusho: "ãªã—", famousPerson: "ãƒãƒŠãƒ³ãƒ»ã‚¢ãƒ–ãƒ‡ã‚£ãƒ»ã‚¢ãƒ«=ã‚¬ãƒªãƒ  (è©©äºº)", famousFood: "ã‚«ã‚·ãƒ£ãƒˆ", resident: "ä¸­é‡ å¤§è¼”" },
                "South Africa": { capital: "ãƒ—ãƒ¬ãƒˆãƒªã‚¢ã€ã‚±ãƒ¼ãƒ—ã‚¿ã‚¦ãƒ³ã€ãƒ–ãƒ«ãƒ¼ãƒ ãƒ•ã‚©ãƒ³ãƒ†ãƒ¼ãƒ³", population: "ç´„6,000ä¸‡äºº", companies: "Naspers, MTN Group", hasToyotaTsusho: "ã‚ã‚Š", famousPerson: "ãƒãƒ«ã‚½ãƒ³ãƒ»ãƒãƒ³ãƒ‡ãƒ© (æ”¿æ²»å®¶)", famousFood: "ãƒ–ãƒ©ãƒ¼ã‚¤", resident: "å·å£ é™½ä¸€" },
                "South Sudan": { capital: "ã‚¸ãƒ¥ãƒ", population: "ç´„1,100ä¸‡äºº", companies: "Nile Commercial Bank", hasToyotaTsusho: "ãªã—", famousPerson: "ã‚µãƒŸãƒ¥ã‚¨ãƒ«ãƒ»ãƒ­ãƒ¢ (éŸ³æ¥½å®¶)", famousFood: "ã‚¢ã‚¹ã‚£ãƒ¼ãƒ€", resident: "ç”°ä¸­ ç¾©é›„" },
                "Sudan": { capital: "ãƒãƒ«ãƒ„ãƒ¼ãƒ ", population: "ç´„4,600ä¸‡äºº", companies: "Sudapet", hasToyotaTsusho: "ãªã—", famousPerson: "ã‚µãƒ«ãƒãƒ»ãƒãƒ¤ã‚¯ (å¥³å„ª)", famousFood: "ãƒ•ãƒ«", resident: "æ± ç”° ä»å¿—" },
                "Tanzania": { capital: "ãƒ‰ãƒ‰ãƒ", population: "ç´„6,400ä¸‡äºº", companies: "Tanzania Breweries", hasToyotaTsusho: "ã‚ã‚Š", famousPerson: "ãƒã‚°ãƒ•ãƒª (æ”¿æ²»å®¶)", famousFood: "ã‚¦ã‚¬ãƒª", resident: "ä¸­æ‘ æ·³" },
                "Togo": { capital: "ãƒ­ãƒ¡", population: "ç´„860ä¸‡äºº", companies: "Togocel", hasToyotaTsusho: "ãªã—", famousPerson: "ã‚¨ãƒãƒ‹ãƒ¥ã‚¨ãƒ«ãƒ»ã‚¢ãƒ‡ãƒãƒ¨ãƒ¼ãƒ« (ã‚µãƒƒã‚«ãƒ¼é¸æ‰‹)", famousFood: "ãƒ•ãƒ•", resident: "å°æ— èª " },
                "Tunisia": { capital: "ãƒãƒ¥ãƒ‹ã‚¹", population: "ç´„1,200ä¸‡äºº", companies: "Tunisair", hasToyotaTsusho: "ã‚ã‚Š", famousPerson: "ãƒãƒ“ãƒ¼ãƒ–ãƒ»ãƒ–ãƒ«ã‚®ãƒ¼ãƒ (æ”¿æ²»å®¶)", famousFood: "ãƒ–ãƒªã‚¯", resident: "åŠ è—¤ æµ©" },
                "Uganda": { capital: "ã‚«ãƒ³ãƒ‘ãƒ©", population: "ç´„4,600ä¸‡äºº", companies: "Uganda Clays", hasToyotaTsusho: "ã‚ã‚Š", famousPerson: "ã‚¤ãƒ‡ã‚£ãƒ»ã‚¢ãƒŸãƒ³ (å…ƒå¤§çµ±é ˜)", famousFood: "ãƒã‚¿ãƒˆã‚±", resident: "æ¾æœ¬ éš†" },
                "Zambia": { capital: "ãƒ«ã‚µã‚«", population: "ç´„1,900ä¸‡äºº", companies: "ZCCM", hasToyotaTsusho: "ã‚ã‚Š", famousPerson: "ãƒ ãƒ¯ãƒŠã‚¦ã‚§ã‚µ (æ”¿æ²»å®¶)", famousFood: "ã‚·ãƒ", resident: "äº•ä¸Š é™½ä»‹" },
                "Zimbabwe": { capital: "ãƒãƒ©ãƒ¬", population: "ç´„1,600ä¸‡äºº", companies: "Econet Wireless", hasToyotaTsusho: "ãªã—", famousPerson: "ãƒ€ãƒ‹ã‚¨ãƒ«ãƒ»ã‚­ãƒ¯ãƒ³ãƒ‰ (ä¿³å„ª)", famousFood: "ã‚µã‚¶", resident: "æœ¨æ‘ å®" }
            };

            // åœ°å›³ãƒ‡ãƒ¼ã‚¿ã¨è©³ç´°æƒ…å ±ã‚’å¯¾å¿œã•ã›ã‚‹ãŸã‚ã®ãƒãƒƒãƒ”ãƒ³ã‚°
            const nameMap = {
                // åœ°å›³ãƒ‡ãƒ¼ã‚¿ã§ã®å›½å: è©³ç´°æƒ…å ±ã§ã®å›½å
                "Dem. Rep. Congo": "Congo, Dem. Rep.",
                "Congo, Rep.": "Congo",
                "Central African Rep.": "Central African Republic",
                "S. Sudan": "South Sudan"
            };

            // äººå£ãƒ‡ãƒ¼ã‚¿ã®è§£æ
            const populations = Object.values(countryDetails).map(d => parseInt(d.population.replace(/[^0-9]/g, '')));
            const minPop = d3.min(populations);
            const maxPop = d3.max(populations);

            // äººå£ã«åŸºã¥ã„ãŸã‚«ãƒ©ãƒ¼ã‚¹ã‚±ãƒ¼ãƒ«ã‚’è¨­å®š
            const colorScale = d3.scaleSequential([minPop, maxPop], d3.interpolateBlues);

            d3.json("https://cdn.jsdelivr.net/npm/world-atlas@2/countries-50m.json").then(data => {
                const countries = topojson.feature(data, data.objects.countries);

                const africa = countries.features.filter(d => {
                    const countryName = d.properties.name;
                    const mappedName = nameMap[countryName] || countryName;
                    return countryDetails.hasOwnProperty(mappedName);
                });

                svg.selectAll("path")
                    .data(africa)
                    .enter().append("path")
                    .attr("d", path)
                    .attr("class", "country")
                    .attr("fill", d => {
                        const countryName = d.properties.name;
                        const detailsKey = nameMap[countryName] || countryName;
                        const details = countryDetails[detailsKey];
                        const population = parseInt(details.population.replace(/[^0-9]/g, ''));
                        return colorScale(population);
                    })
                    .on("mouseover", function(event, d) {
                        const countryName = d.properties.name;
                        const detailsKey = nameMap[countryName] || countryName;
                        const details = countryDetails[detailsKey];

                        if (details) {
                            detailsContainer.innerHTML = `
                                <div class="details-content">
                                    <div class="details-title">${d.properties.name}</div>
                                    <p><strong>é¦–éƒ½:</strong> ${details.capital}</p>
                                    <p><strong>äººå£:</strong> ${details.population}</p>
                                    <p><strong>ä¸»ãªä¼æ¥­:</strong> ${details.companies || "æƒ…å ±ãªã—"}</p>
                                    <p><strong>è±Šç”°é€šå•†æ‹ ç‚¹ã®æœ‰ç„¡:</strong> ${details.hasToyotaTsusho}</p>
                                    <p><strong>æœ‰åäºº:</strong> ${details.famousPerson || "æƒ…å ±ãªã—"}</p>
                                    <p><strong>æœ‰åãªé£Ÿã¹ç‰©:</strong> ${details.famousFood || "æƒ…å ±ãªã—"}</p>
                                    <p><strong>é§åœ¨å“¡å:</strong> ${details.resident || "æƒ…å ±ãªã—"}</p>
                                </div>
                            `;
                        } else {
                            detailsContainer.innerHTML = "å›½ã«ãƒã‚¦ã‚¹ã‚’é‡ã­ã‚‹ã¨è©³ç´°ãŒè¡¨ç¤ºã•ã‚Œã¾ã™";
                        }
                    })
                    .on("mouseout", function(event, d) {
                        detailsContainer.innerHTML = "å›½ã«ãƒã‚¦ã‚¹ã‚’é‡ã­ã‚‹ã¨è©³ç´°ãŒè¡¨ç¤ºã•ã‚Œã¾ã™";
                    });

                svg.on("mouseout", () => {
                    tooltip.style("opacity", 0);
                });
            });
        });
    </script>
</body>
</html>
